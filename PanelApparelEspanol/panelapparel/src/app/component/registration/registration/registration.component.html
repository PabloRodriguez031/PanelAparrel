<br>
<h1 class="text-center titulo">Editar Registro</h1>
<br>
<form #registrationForm="ngForm">

  <div class="row">

      <div class="col-md-3 col-md-offset-1">
          <div class="fixed col-md-2">              
            <div class="text-center boton">
                <div class="btn-group btn-group-sm  text-center">
                  <button class="btn btn-outline-primary form-control" type="submit" (click)="onSubmit(registrationForm)">
                    Guardar Cambios
                  </button>        
                </div>
              </div>
          </div>
        </div>

      <div class="col-md-9">

        <input type="hidden" name="$keyRegistro" #$keyRegistro="ngModel"
        [(ngModel)]="registrationService.selectedRegistration.$keyRegistro">
                        
        <label><b>Slider</b></label>        
        <input type="text" class="form-control" name="titulo" id="titulo" #titulo="ngModel"
        [(ngModel)]="registrationService.selectedRegistration.titulo">
        <label>Imagen Actual</label><br>
        <img [src]="registrationService.selectedRegistration.image1" class="preview">
        <br>
        <input type="file" accept=".jpeg, .jpg, .png" (change)="onUpload($event)"><br><br>
        <div class="progress">
          <div class="progress-bar progress-bar-striped bg-success" role="progressbar" [style.width]="(uploadPercent | async) +'%'"></div>
        </div> 
        <br>     
        <label>Imagen Seleccionada <strong>(Tamaño recomendado para imagen: 1280px x 451px)</strong></label><br>
        <select class="form-control col-sm-3" name="image1" id ="image1" #image1="ngModel" [(ngModel)]="registrationService.selectedRegistration.image1">
          <option [value]="registrationService.selectedRegistration.image1">Imagen Actual</option>
          <option [value]="urlImage | async">Imagen Nuevoa</option>
        </select>
        <div *ngIf="urlImage | async">            
          <img [src]="urlImage | async" class="preview">  
        </div>  
        <br>
        <hr>
      
        <label><b>Sección 1</b></label><br>
        <label>Titulo</label>
        <input type="text" class="form-control" name="titulo_seccion1" id="titulo_seccion1" #titulo_seccion1="ngModel"
        [(ngModel)]="registrationService.selectedRegistration.titulo_seccion1">
        <label>Descripción</label>
        <editor [(ngModel)]="registrationService.selectedRegistration.descripcion_seccion1" 
        name="descripcion_seccion1" id="descripcion_seccion1" #descripcion_seccion1="ngModel"></editor>        
        <label>Link</label>
        <input type="text" class="form-control" name="link_seccion1" id="link_seccion1" #link_seccion1="ngModel"
        [(ngModel)]="registrationService.selectedRegistration.link_seccion1">
        <label>Url</label>
        <input type="text" class="form-control" name="link_path" id="link_path" #link_path="ngModel"
        [(ngModel)]="registrationService.selectedRegistration.link_path">
        <label>Imagen Actual</label><br>
        <img [src]="registrationService.selectedRegistration.image2" class="preview">
        <br>
        <input type="file" accept=".jpeg, .jpg, .png" (change)="onUpload2($event)"><br><br>
        <div class="progress">
          <div class="progress-bar progress-bar-striped bg-success" role="progressbar" [style.width]="(uploadPercent2 | async) +'%'"></div>
        </div> 
        <br>     
        <label>Imagen Seleccionada <strong>(Tamaño recomendado para imagen: 1280px x 1280px)</strong></label><br>
        <select class="form-control col-sm-3" name="image2" id ="image2" #image2="ngModel" [(ngModel)]="registrationService.selectedRegistration.image2">
          <option [value]="registrationService.selectedRegistration.image2">Imagen Actual</option>
          <option [value]="urlImage2 | async">Imagen Nuevoa</option>
        </select>
        <div *ngIf="urlImage2 | async">                        
          <img [src]="urlImage2 | async" class="preview">  
        </div>  
        <br>
        <hr>
        <br>
      
        <label><b>Sección 2</b></label><br>
        <label>Titulo</label>
        <input type="text" class="form-control" name="titulo_seccion2" id="titulo_seccion2" #titulo_seccion2="ngModel"
        [(ngModel)]="registrationService.selectedRegistration.titulo_seccion2">
        <label>Descripción</label>
        <editor [(ngModel)]="registrationService.selectedRegistration.descripcion_seccion2" 
        name="descripcion_seccion2" id="descripcion_seccion2" #descripcion_seccion2="ngModel"></editor>        
        <label>Link</label>
        <input type="text" class="form-control" name="link_seccion2" id="link_seccion2" #link_seccion2="ngModel"
        [(ngModel)]="registrationService.selectedRegistration.link_seccion2">
        <label>Url</label>
        <input type="text" class="form-control" name="link_path2" id="link_path2" #link_path2="ngModel"
        [(ngModel)]="registrationService.selectedRegistration.link_path2">
        <label>Imagen Actual</label><br>
        <img [src]="registrationService.selectedRegistration.image3" class="preview">
        <br>
        <input type="file" accept=".jpeg, .jpg, .png" (change)="onUpload3($event)"><br><br>
        <div class="progress">
          <div class="progress-bar progress-bar-striped bg-success" role="progressbar" [style.width]="(uploadPercent3 | async) +'%'"></div>
        </div> 
        <br>     
        <label>Imagen Seleccionada <strong>(Tamaño recomendado para imagen: 1280px x 1280px)</strong></label><br>
        <select class="form-control col-sm-3" name="image3" id ="image3" #image3="ngModel" [(ngModel)]="registrationService.selectedRegistration.image3">
          <option [value]="registrationService.selectedRegistration.image3">Imagen Actual</option>
          <option [value]="urlImage3 | async">Imagen Nuevoa</option>
        </select>
        <div *ngIf="urlImage3 | async">                        
          <img [src]="urlImage3 | async" class="preview">  
        </div>  
        <br>
        <hr>
        <br>
      
        <label><b>Sección 3</b></label><br>
        <label>Titulo</label>
        <input type="text" class="form-control" name="titulo_seccion3" id="titulo_seccion3" #titulo_seccion3="ngModel"
        [(ngModel)]="registrationService.selectedRegistration.titulo_seccion3">
        <label>Descripción</label>
        <editor [(ngModel)]="registrationService.selectedRegistration.descripcion_seccion3" 
        name="descripcion_seccion3" id="descripcion_seccion3" #descripcion_seccion3="ngModel"></editor>        
        <br>      

      </div>

  </div>

</form>


<script>
tinymce.init({
  selector: 'textarea#basic-example',
  height: 500,
  menubar: false,
  plugins: [
    'advlist autolink lists link image charmap print preview anchor',
    'searchreplace visualblocks code fullscreen',
    'insertdatetime media table paste code help wordcount'
  ],
  toolbar: 'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help',
  content_css: [
    '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
    '//www.tiny.cloud/css/codepen.min.css'
  ]
});
</script>